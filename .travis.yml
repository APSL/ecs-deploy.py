language: python
python:
- '2.6'
- '2.7'
- '3.3'
- '3.4'
- '3.5'
branches:
  only:
  - master
  - release
  - travis
install:
- pip install -r requirements-dev.txt
- pip install coveralls
script: py.test --cov ecs_deploy.py --cov-report term-missing --pep8
after_success:
- coveralls
notifications:
  slack:
    rooms:
      secure: Tok8grsXdoAXuWhig0fO66CLW4SvQsSaRZJ0ZZ/2bkt276LrggcgdNYwSJs4qDuMYz1/eMFASLe0obfgd0EKtliHIZFQLW05aoLKABj6N0k0XhIrqkWWhwhYdL+P8rnsr2VPNEFcX+iXY9V93KBnCBnrixH+J6VaMBr/gvHEZuZbM+gWWDeN/C1P+4T/NtmsvQmSt1jv3pskn7MKpbikIwDNyTvvH1jVPu1mZuaZ0DP2WMO8Pqr1fXsQ3IWlNVULx/JK9wwYRDcCK41qKIjYxUXMYUTkPdxn4aBtJ/oiSNasLwB06x9PYTkbgVoXouj6yxRqJduSR/qCZ/jfaYGAWOhtPVbK3dbUv/qi6gy0Fa62Qd6uFVykUinNPTWz+uNfpmwyO8ZNSKAuyVRMQGJgY9jSXpWaVFQjZVrjyPjfGwo51sqvUYgL3rA8Zq70T4m/Nwb/f7hxHCWZkW0dNopuT3sviBuRBsvdyKvqh51CqKGWI9qV3nxltXjZ9v8GClXXs5PL/spvbmUwa91vgqUSLrK+RttETGxAjoak11A9/SLpXmJcBNBUVMG2xCGUlFR01njyUnPkgSWJI+8oKG1jWER0CvBMDHC8ydToE4sh6I8VPeX1s+G7wpHB9UBmWzOU05SMxrtlzWnDD+NzJTag8/HXN5FIs7DpNoSxTei/lVs=
deploy:
  provider: pypi
  user: cuttlesoft
  password:
    secure: Hmld9fYD4TqKkoq2t+L3fShXZnEd48ygEkers2hxk80Tjvc6rZIAs6tSLxRKO8joAu1VYNCprOpmByZaKi2/X0jdgJzGi/0z70gsNfxVezz4JtWH5+YgzZaxnh3o8jVemhrP9LiQTSiO6XdBNpnp3W5gZbMrWjLx+OTN7havFln6lu/kDcNzcux1EHFNqvu0L4AP4izKp7XesHSUSEJJ2WfmNgqlaOT2EdWYKYxwMiEpgCvgqQmLIGRHUox2qmvqrL1wn4FYJizX34nxPqGjISFWsgNSVL/YBbOSVaUGiJVWjoZyP1kSon4ETJTk7SbHOfkge6uNLXjJEQVU6j5FEjCCdmvj21esKOdOICya01k3OOGEDvNjjg5BNuQ5BQy3VUVsOv78JUw6VHOj8F/zv10mB+5g+iwGL60fDGcDDq2LhRUwSaLEqPas1yu2cZXHCgX6DTt9AurblISohEXZeXGOaC8GpxF8tBxmvh/ednDqNzQshpjkAhTquePS+QlKga2vF/HbRzPYVP+45RaHyceSHdB6OhHiVEg9YE4S3zohTqLbVB/CXiUX4mwXuDp50RMNVDK+2KkwtNcgHfwYoF8KKVCl/Xt7BqCSk9ZZU7iWa/II8xADI/qBZyXDxe8rXNR6TyNvZ3egWcLFyABj97jGWNylwMK5qtL6/fbVbcQ=
  on:
    branch: release
    repo: cuttlesoft/ecs-deploy.py
